<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>usd_publisher_plugin.source package &#8212; usd-publisher-plugin 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=8d563738"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="usd_publisher_plugin.tests package" href="usd_publisher_plugin.tests.html" />
    <link rel="prev" title="usd_publisher_plugin package" href="usd_publisher_plugin.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="usd-publisher-plugin-source-package">
<h1>usd_publisher_plugin.source package<a class="headerlink" href="#usd-publisher-plugin-source-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-usd_publisher_plugin.source.cache_anim">
<span id="usd-publisher-plugin-source-cache-anim-module"></span><h2>usd_publisher_plugin.source.cache_anim module<a class="headerlink" href="#module-usd_publisher_plugin.source.cache_anim" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.cache_anim.cache_rig">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.cache_anim.</span></span><span class="sig-name descname"><span class="pre">cache_rig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">euler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.cache_anim.cache_rig" title="Link to this definition">¶</a></dt>
<dd><p>Cache the selected rig to a USD file.</p>
<p>This function exports the selected rig to a USD file in the specified directory.
The USD file is named based on the rig name and a version number. The function
ensures that the cache directory exists and handles the export options for the
USD export.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage_dir</strong> (<em>str</em>) – The directory where the USD stage is located.</p></li>
<li><p><strong>rig_name</strong> (<em>str</em>) – The name of the rig to cache.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The start frame for the animation.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The end frame for the animation.</p></li>
<li><p><strong>euler</strong> (<em>int</em>) – Whether to apply Euler filtering. Default is 0 (no filtering).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-usd_publisher_plugin.source.create_anim_layer">
<span id="usd-publisher-plugin-source-create-anim-layer-module"></span><h2>usd_publisher_plugin.source.create_anim_layer module<a class="headerlink" href="#module-usd_publisher_plugin.source.create_anim_layer" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.create_anim_layer.create_anim_layer">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.create_anim_layer.</span></span><span class="sig-name descname"><span class="pre">create_anim_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">caches</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.create_anim_layer.create_anim_layer" title="Link to this definition">¶</a></dt>
<dd><p>Creates new version of anim layer with the list of caches as references.</p>
<p>This function creates a new animation layer in the USD stage and adds the specified
cache files as references to that layer. The new layer is saved in the “ANI/layer”
directory, and the layer name is based on the current stage file name. If a layer
with the same name already exists, a version number is appended to the new layer name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>caches</strong> (<em>list</em>) – List of cache file paths to be added to the new anim layer.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-usd_publisher_plugin.source.custom_menu">
<span id="usd-publisher-plugin-source-custom-menu-module"></span><h2>usd_publisher_plugin.source.custom_menu module<a class="headerlink" href="#module-usd_publisher_plugin.source.custom_menu" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.custom_menu.create_custom_menu">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.custom_menu.</span></span><span class="sig-name descname"><span class="pre">create_custom_menu</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.custom_menu.create_custom_menu" title="Link to this definition">¶</a></dt>
<dd><p>Create my own tool menu</p>
</dd></dl>

</section>
<section id="module-usd_publisher_plugin.source.load_rig">
<span id="usd-publisher-plugin-source-load-rig-module"></span><h2>usd_publisher_plugin.source.load_rig module<a class="headerlink" href="#module-usd_publisher_plugin.source.load_rig" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.load_rig.load_rig">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.load_rig.</span></span><span class="sig-name descname"><span class="pre">load_rig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.load_rig.load_rig" title="Link to this definition">¶</a></dt>
<dd><p>Load the rig into the USD stage.</p>
<p>This function integrates a rig file into a USD stage and the Maya scene. It creates
a dedicated RIG layer in the USD stage if it does not already exist and ensures the
rig is added under the <cite>/rigs</cite> group. The rig is also loaded into Maya as a Maya
Reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>asset_path</strong> (<em>str</em>) – The path to the rig file to be loaded.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-usd_publisher_plugin.source.usd_tool_utils">
<span id="usd-publisher-plugin-source-usd-tool-utils-module"></span><h2>usd_publisher_plugin.source.usd_tool_utils module<a class="headerlink" href="#module-usd_publisher_plugin.source.usd_tool_utils" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.create_layer">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">create_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.create_layer" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new USD layer and add it to the root layer.
:param stage: The USD stage to which the layer will be added.
:type stage: Usd.Stage
:param layer_dir: The directory where the new layer will be created.
:type layer_dir: str
:param layer_name: The name of the new layer.
:type layer_name: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The newly created USD layer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Sdf.Layer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.find_caches">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">find_caches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.find_caches" title="Link to this definition">¶</a></dt>
<dd><p>Finds cache files at the directory and return a list for pick up</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage_path</strong> (<em>str</em>) – The path to the USD stage file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary where keys are rig names and values are lists of cache file paths.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.find_rigs">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">find_rigs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.find_rigs" title="Link to this definition">¶</a></dt>
<dd><p>Find all rigs in the stage and return their names and paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage</strong> (<em>Usd.Stage</em>) – The USD stage to search for rigs.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing a list of rig names and a list of rig paths.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.generate_namespace">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">generate_namespace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset_namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.generate_namespace" title="Link to this definition">¶</a></dt>
<dd><p>Generate a unique namespace for the rig based on the asset namespace and existing rigs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Usd.Stage</em>) – The USD stage to search for existing rigs.</p></li>
<li><p><strong>asset_namespace</strong> (<em>str</em>) – The base namespace for the rig.</p></li>
<li><p><strong>rig_path</strong> (<em>str</em>) – The path to the rig in the USD stage.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A unique namespace for the rig.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.get_framerange">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">get_framerange</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.get_framerange" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves start and end frame from the maya scene</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the start and end frame (int) of the scene.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.get_rig_layer">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">get_rig_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_layer_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rig_file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.get_rig_layer" title="Link to this definition">¶</a></dt>
<dd><p>Get the rig layer from the stage or create a new one if it doesn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Usd.Stage</em>) – The USD stage to search for the rig layer.</p></li>
<li><p><strong>rig_file</strong> (<em>str</em>) – The path to the rig file.</p></li>
<li><p><strong>rig_layer_dir</strong> (<em>str</em>) – The directory where the rig layer will be created.</p></li>
<li><p><strong>rig_file_name</strong> (<em>str</em>) – The name of the rig file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rig layer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sdf.Layer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.get_scene_proxy">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">get_scene_proxy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.get_scene_proxy" title="Link to this definition">¶</a></dt>
<dd><p>Get the DAG path of the USD stage in the Maya scene.
This function expects only one USD stage in the scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The DAG path of the USD stage.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If no USD stage is found or if multiple stages are detected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="usd_publisher_plugin.source.usd_tool_utils.get_stage_path">
<span class="sig-prename descclassname"><span class="pre">usd_publisher_plugin.source.usd_tool_utils.</span></span><span class="sig-name descname"><span class="pre">get_stage_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#usd_publisher_plugin.source.usd_tool_utils.get_stage_path" title="Link to this definition">¶</a></dt>
<dd><p>Get the USD stage path from the Maya scene.
This function expects only one USD proxy shape in the scene.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The file path of the USD stage.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If no USD proxy shapes are found or if the file path is invalid.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-usd_publisher_plugin.source">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-usd_publisher_plugin.source" title="Link to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">usd-publisher-plugin</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">usd_publisher_plugin</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="usd_publisher_plugin.html">usd_publisher_plugin package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">usd_publisher_plugin.source package</a></li>
<li class="toctree-l2"><a class="reference internal" href="usd_publisher_plugin.tests.html">usd_publisher_plugin.tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="usd_publisher_plugin.ui.html">usd_publisher_plugin.ui package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">usd_publisher_plugin</a><ul>
  <li><a href="usd_publisher_plugin.html">usd_publisher_plugin package</a><ul>
      <li>Previous: <a href="usd_publisher_plugin.html" title="previous chapter">usd_publisher_plugin package</a></li>
      <li>Next: <a href="usd_publisher_plugin.tests.html" title="next chapter">usd_publisher_plugin.tests package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Alesia Karchevskaia.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/usd_publisher_plugin.source.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>